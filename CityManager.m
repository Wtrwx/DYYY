#import "CityManager.h"
#import <Foundation/Foundation.h>

@implementation CityManager

+ (instancetype)sharedInstance {
    static CityManager *instance = nil;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        instance = [[CityManager alloc] init];
        [instance loadCityData];
        [instance loadCountryData];
    });
    return instance;
}

- (void)loadCountryData {
    self.countryCodeMap = @{
        // A
        @"AF": @"🇦🇫", // 阿富汗 Afghanistan
        @"AX": @"🇦🇽", // 奥兰群岛 Åland Islands
        @"AL": @"🇦🇱", // 阿尔巴尼亚 Albania
        @"DZ": @"🇩🇿", // 阿尔及利亚 Algeria
        @"AS": @"🇦🇸", // 美属萨摩亚 American Samoa
        @"AD": @"🇦🇩", // 安道尔 Andorra
        @"AO": @"🇦🇴", // 安哥拉 Angola
        @"AI": @"🇦🇮", // 安圭拉 Anguilla
        @"AQ": @"🇦🇶", // 南极洲 Antarctica
        @"AG": @"🇦🇬", // 安提瓜和巴布达 Antigua & Barbuda
        @"AR": @"🇦🇷", // 阿根廷 Argentina
        @"AM": @"🇦🇲", // 亚美尼亚 Armenia
        @"AW": @"🇦🇼", // 阿鲁巴 Aruba
        @"AU": @"🇦🇺", // 澳大利亚 Australia
        @"AT": @"🇦🇹", // 奥地利 Austria
        @"AZ": @"🇦🇿", // 阿塞拜疆 Azerbaijan

        // B
        @"BS": @"🇧🇸", // 巴哈马 Bahamas
        @"BH": @"🇧🇭", // 巴林 Bahrain
        @"BD": @"🇧🇩", // 孟加拉国 Bangladesh
        @"BB": @"🇧🇧", // 巴巴多斯 Barbados
        @"BY": @"🇧🇾", // 白俄罗斯 Belarus
        @"BE": @"🇧🇪", // 比利时 Belgium
        @"BZ": @"🇧🇿", // 伯利兹 Belize
        @"BJ": @"🇧🇯", // 贝宁 Benin
        @"BM": @"🇧🇲", // 百慕大 Bermuda
        @"BT": @"🇧🇹", // 不丹 Bhutan
        @"BO": @"🇧🇴", // 玻利维亚 Bolivia
        @"BQ": @"🇧🇶", // 博内尔、圣尤斯特歇斯和萨巴 Bonaire, Sint Eustatius & Saba
        @"BA": @"🇧🇦", // 波斯尼亚和黑塞哥维那 Bosnia & Herzegovina
        @"BW": @"🇧🇼", // 博茨瓦纳 Botswana
        @"BV": @"🇧🇻", // 布维岛 Bouvet Island
        @"BR": @"🇧🇷", // 巴西 Brazil
        @"IO": @"🇮🇴", // 英属印度洋领地 British Indian Ocean Territory
        @"VG": @"🇻🇬", // 英属维尔京群岛 British Virgin Islands
        @"BN": @"🇧🇳", // 文莱 Brunei
        @"BG": @"🇧🇬", // 保加利亚 Bulgaria
        @"BF": @"🇧🇫", // 布基纳法索 Burkina Faso
        @"BI": @"🇧🇮", // 布隆迪 Burundi

        // C
        @"KH": @"🇰🇭", // 柬埔寨 Cambodia
        @"CM": @"🇨🇲", // 喀麦隆 Cameroon
        @"CA": @"🇨🇦", // 加拿大 Canada
        @"CV": @"🇨🇻", // 佛得角 Cape Verde
        @"KY": @"🇰🇾", // 开曼群岛 Cayman Islands
        @"CF": @"🇨🇫", // 中非共和国 Central African Republic
        @"TD": @"🇹🇩", // 乍得 Chad
        @"CL": @"🇨🇱", // 智利 Chile
        @"CN": @"🇨🇳", // 中国 China
        @"CX": @"🇨🇽", // 圣诞岛 Christmas Island
        @"CC": @"🇨🇨", // 科科斯（基林）群岛 Cocos (Keeling) Islands
        @"CO": @"🇨🇴", // 哥伦比亚 Colombia
        @"KM": @"🇰🇲", // 科摩罗 Comoros
        @"CG": @"🇨🇬", // 刚果（布） Congo - Brazzaville
        @"CD": @"🇨🇩", // 刚果（金） Congo - Kinshasa
        @"CK": @"🇨🇰", // 库克群岛 Cook Islands
        @"CR": @"🇨🇷", // 哥斯达黎加 Costa Rica
        @"CI": @"🇨🇮", // 科特迪瓦 Côte d’Ivoire
        @"HR": @"🇭🇷", // 克罗地亚 Croatia
        @"CU": @"🇨🇺", // 古巴 Cuba
        @"CW": @"🇨🇼", // 库拉索 Curaçao
        @"CY": @"🇨🇾", // 塞浦路斯 Cyprus
        @"CZ": @"🇨🇿", // 捷克 Czechia (Czech Republic)

        // D
        @"DK": @"🇩🇰", // 丹麦 Denmark
        @"DJ": @"🇩🇯", // 吉布提 Djibouti
        @"DM": @"🇩🇲", // 多米尼克 Dominica
        @"DO": @"🇩🇴", // 多米尼加共和国 Dominican Republic

        // E
        @"EC": @"🇪🇨", // 厄瓜多尔 Ecuador
        @"EG": @"🇪🇬", // 埃及 Egypt
        @"SV": @"🇸🇻", // 萨尔瓦多 El Salvador
        @"GQ": @"🇬🇶", // 赤道几内亚 Equatorial Guinea
        @"ER": @"🇪🇷", // 厄立特里亚 Eritrea
        @"EE": @"🇪🇪", // 爱沙尼亚 Estonia
        @"SZ": @"🇸🇿", // 斯威士兰 Eswatini (formerly Swaziland)
        @"ET": @"🇪🇹", // 埃塞俄比亚 Ethiopia

        // F
        @"FK": @"🇫🇰", // 福克兰群岛（马尔维纳斯） Falkland Islands (Malvinas)
        @"FO": @"🇫🇴", // 法罗群岛 Faroe Islands
        @"FJ": @"🇫🇯", // 斐济 Fiji
        @"FI": @"🇫🇮", // 芬兰 Finland
        @"FR": @"🇫🇷", // 法国 France
        @"GF": @"🇬🇫", // 法属圭亚那 French Guiana
        @"PF": @"🇵🇫", // 法属波利尼西亚 French Polynesia
        @"TF": @"🇹🇫", // 法属南部领地 French Southern Territories

        // G
        @"GA": @"🇬🇦", // 加蓬 Gabon
        @"GM": @"🇬🇲", // 冈比亚 Gambia
        @"GE": @"🇬🇪", // 格鲁吉亚 Georgia
        @"DE": @"🇩🇪", // 德国 Germany
        @"GH": @"🇬🇭", // 加纳 Ghana
        @"GI": @"🇬🇮", // 直布罗陀 Gibraltar
        @"GR": @"🇬🇷", // 希腊 Greece
        @"GL": @"🇬🇱", // 格陵兰 Greenland
        @"GD": @"🇬🇩", // 格林纳达 Grenada
        @"GP": @"🇬🇵", // 瓜德罗普 Guadeloupe
        @"GU": @"🇬🇺", // 关岛 Guam
        @"GT": @"🇬🇹", // 危地马拉 Guatemala
        @"GG": @"🇬🇬", // 根西 Guernsey
        @"GN": @"🇬🇳", // 几内亚 Guinea
        @"GW": @"🇬🇼", // 几内亚比绍 Guinea-Bissau
        @"GY": @"🇬🇾", // 圭亚那 Guyana

        // H
        @"HT": @"🇭🇹", // 海地 Haiti
        @"HM": @"🇭🇲", // 赫德岛和麦克唐纳群岛 Heard & McDonald Islands
        @"HN": @"🇭🇳", // 洪都拉斯 Honduras
        @"HK": @"🇭🇰", // 中国香港特别行政区 Hong Kong SAR China
        @"HU": @"🇭🇺", // 匈牙利 Hungary

        // I
        @"IS": @"🇮🇸", // 冰岛 Iceland
        @"IN": @"🇮🇳", // 印度 India
        @"ID": @"🇮🇩", // 印度尼西亚 Indonesia
        @"IR": @"🇮🇷", // 伊朗 Iran
        @"IQ": @"🇮🇶", // 伊拉克 Iraq
        @"IE": @"🇮🇪", // 爱尔兰 Ireland
        @"IM": @"🇮🇲", // 马恩岛 Isle of Man
        @"IL": @"🇮🇱", // 以色列 Israel
        @"IT": @"🇮🇹", // 意大利 Italy

        // J
        @"JM": @"🇯🇲", // 牙买加 Jamaica
        @"JP": @"🇯🇵", // 日本 Japan
        @"JE": @"🇯🇪", // 泽西 Jersey
        @"JO": @"🇯🇴", // 约旦 Jordan

        // K
        @"KZ": @"🇰🇿", // 哈萨克斯坦 Kazakhstan
        @"KE": @"🇰🇪", // 肯尼亚 Kenya
        @"KI": @"🇰🇮", // 基里巴斯 Kiribati
        @"KW": @"🇰🇼", // 科威特 Kuwait
        @"KG": @"🇰🇬", // 吉尔吉斯斯坦 Kyrgyzstan

        // L
        @"LA": @"🇱🇦", // 老挝 Laos
        @"LV": @"🇱🇻", // 拉脱维亚 Latvia
        @"LB": @"🇱🇧", // 黎巴嫩 Lebanon
        @"LS": @"🇱🇸", // 莱索托 Lesotho
        @"LR": @"🇱🇷", // 利比里亚 Liberia
        @"LY": @"🇱🇾", // 利比亚 Libya
        @"LI": @"🇱🇮", // 列支敦士登 Liechtenstein
        @"LT": @"🇱🇹", // 立陶宛 Lithuania
        @"LU": @"🇱🇺", // 卢森堡 Luxembourg

        // M
        @"MO": @"🇲🇴", // 中国澳门特别行政区 Macao SAR China
        @"MG": @"🇲🇬", // 马达加斯加 Madagascar
        @"MW": @"🇲🇼", // 马拉维 Malawi
        @"MY": @"🇲🇾", // 马来西亚 Malaysia
        @"MV": @"🇲🇻", // 马尔代夫 Maldives
        @"ML": @"🇲🇱", // 马里 Mali
        @"MT": @"🇲🇹", // 马耳他 Malta
        @"MH": @"🇲🇭", // 马绍尔群岛 Marshall Islands
        @"MQ": @"🇲🇶", // 马提尼克 Martinique
        @"MR": @"🇲🇷", // 毛里塔尼亚 Mauritania
        @"MU": @"🇲🇺", // 毛里求斯 Mauritius
        @"YT": @"🇾🇹", // 马约特 Mayotte
        @"MX": @"🇲🇽", // 墨西哥 Mexico
        @"FM": @"🇫🇲", // 密克罗尼西亚 Micronesia
        @"MD": @"🇲🇩", // 摩尔多瓦 Moldova
        @"MC": @"🇲🇨", // 摩纳哥 Monaco
        @"MN": @"🇲🇳", // 蒙古 Mongolia
        @"ME": @"🇲🇪", // 黑山 Montenegro
        @"MS": @"🇲🇸", // 蒙特塞拉特 Montserrat
        @"MA": @"🇲🇦", // 摩洛哥 Morocco
        @"MZ": @"🇲🇿", // 莫桑比克 Mozambique
        @"MM": @"🇲🇲", // 缅甸 Myanmar (Burma)

        // N
        @"NA": @"🇳🇦", // 纳米比亚 Namibia
        @"NR": @"🇳🇷", // 瑙鲁 Nauru
        @"NP": @"🇳🇵", // 尼泊尔 Nepal
        @"NL": @"🇳🇱", // 荷兰 Netherlands
        @"NC": @"🇳🇨", // 新喀里多尼亚 New Caledonia
        @"NZ": @"🇳🇿", // 新西兰 New Zealand
        @"NI": @"🇳🇮", // 尼加拉瓜 Nicaragua
        @"NE": @"🇳🇪", // 尼日尔 Niger
        @"NG": @"🇳🇬", // 尼日利亚 Nigeria
        @"NU": @"🇳🇺", // 纽埃 Niue
        @"NF": @"🇳🇫", // 诺福克岛 Norfolk Island
        @"KP": @"🇰🇵", // 朝鲜 North Korea
        @"MK": @"🇲🇰", // 北马其顿 North Macedonia (formerly Macedonia)
        @"MP": @"🇲🇵", // 北马里亚纳群岛 Northern Mariana Islands
        @"NO": @"🇳🇴", // 挪威 Norway

        // O
        @"OM": @"🇴🇲", // 阿曼 Oman

        // P
        @"PK": @"🇵🇰", // 巴基斯坦 Pakistan
        @"PW": @"🇵🇼", // 帕劳 Palau
        @"PS": @"🇵🇸", // 巴勒斯坦领土 Palestinian Territories
        @"PA": @"🇵🇦", // 巴拿马 Panama
        @"PG": @"🇵🇬", // 巴布亚新几内亚 Papua New Guinea
        @"PY": @"🇵🇾", // 巴拉圭 Paraguay
        @"PE": @"🇵🇪", // 秘鲁 Peru
        @"PH": @"🇵🇭", // 菲律宾 Philippines
        @"PN": @"🇵🇳", // 皮特凯恩群岛 Pitcairn Islands
        @"PL": @"🇵🇱", // 波兰 Poland
        @"PT": @"🇵🇹", // 葡萄牙 Portugal
        @"PR": @"🇵🇷", // 波多黎各 Puerto Rico

        // Q
        @"QA": @"🇶🇦", // 卡塔尔 Qatar

        // R
        @"RE": @"🇷🇪", // 留尼汪 Réunion
        @"RO": @"🇷🇴", // 罗马尼亚 Romania
        @"RU": @"🇷🇺", // 俄罗斯 Russia
        @"RW": @"🇷🇼", // 卢旺达 Rwanda

        // S
        @"BL": @"🇧🇱", // 圣巴泰勒米 St. Barthélemy
        @"SH": @"🇸🇭", // 圣赫勒拿 St. Helena
        @"KN": @"🇰🇳", // 圣基茨和尼维斯 St. Kitts & Nevis
        @"LC": @"🇱🇨", // 圣卢西亚 St. Lucia
        @"MF": @"🇲🇫", // 法属圣马丁 St. Martin (French part)
        @"PM": @"🇵🇲", // 圣皮埃尔和密克隆 St. Pierre & Miquelon
        @"VC": @"🇻🇨", // 圣文森特和格林纳丁斯 St. Vincent & Grenadines
        @"WS": @"🇼🇸", // 萨摩亚 Samoa
        @"SM": @"🇸🇲", // 圣马力诺 San Marino
        @"ST": @"🇸🇹", // 圣多美和普林西比 São Tomé & Príncipe
        @"SA": @"🇸🇦", // 沙特阿拉伯 Saudi Arabia
        @"SN": @"🇸🇳", // 塞内加尔 Senegal
        @"RS": @"🇷🇸", // 塞尔维亚 Serbia
        @"SC": @"🇸🇨", // 塞舌尔 Seychelles
        @"SL": @"🇸🇱", // 塞拉利昂 Sierra Leone
        @"SG": @"🇸🇬", // 新加坡 Singapore
        @"SX": @"🇸🇽", // 荷属圣马丁 Sint Maarten (Dutch part)
        @"SK": @"🇸🇰", // 斯洛伐克 Slovakia
        @"SI": @"🇸🇮", // 斯洛文尼亚 Slovenia
        @"SB": @"🇸🇧", // 所罗门群岛 Solomon Islands
        @"SO": @"🇸🇴", // 索马里 Somalia
        @"ZA": @"🇿🇦", // 南非 South Africa
        @"GS": @"🇬🇸", // 南乔治亚和南桑威奇群岛 South Georgia & South Sandwich Islands
        @"KR": @"🇰🇷", // 韩国 South Korea
        @"SS": @"🇸🇸", // 南苏丹 South Sudan
        @"ES": @"🇪🇸", // 西班牙 Spain
        @"LK": @"🇱🇰", // 斯里兰卡 Sri Lanka
        @"SD": @"🇸🇩", // 苏丹 Sudan
        @"SR": @"🇸🇷", // 苏里南 Suriname
        @"SJ": @"🇸🇯", // 斯瓦尔巴和扬马延 Svalbard & Jan Mayen
        @"SE": @"🇸🇪", // 瑞典 Sweden
        @"CH": @"🇨🇭", // 瑞士 Switzerland
        @"SY": @"🇸🇾", // 叙利亚 Syria

        // T
        @"TW": @"🇹🇼", // 中国台湾 Taiwan
        @"TJ": @"🇹🇯", // 塔吉克斯坦 Tajikistan
        @"TZ": @"🇹🇿", // 坦桑尼亚 Tanzania
        @"TH": @"🇹🇭", // 泰国 Thailand
        @"TL": @"🇹🇱", // 东帝汶 Timor-Leste
        @"TG": @"🇹🇬", // 多哥 Togo
        @"TK": @"🇹🇰", // 托克劳 Tokelau
        @"TO": @"🇹🇴", // 汤加 Tonga
        @"TT": @"🇹🇹", // 特立尼达和多巴哥 Trinidad & Tobago
        @"TN": @"🇹🇳", // 突尼斯 Tunisia
        @"TR": @"🇹🇷", // 土耳其 Turkey
        @"TM": @"🇹🇲", // 土库曼斯坦 Turkmenistan
        @"TC": @"🇹🇨", // 特克斯和凯科斯群岛 Turks & Caicos Islands
        @"TV": @"🇹🇻", // 图瓦卢 Tuvalu

        // U
        @"UG": @"🇺🇬", // 乌干达 Uganda
        @"UA": @"🇺🇦", // 乌克兰 Ukraine
        @"AE": @"🇦🇪", // 阿拉伯联合酋长国 United Arab Emirates
        @"GB": @"🇬🇧", // 英国 United Kingdom
        @"US": @"🇺🇸", // 美国 United States
        @"UM": @"🇺🇲", // 美国本土外小岛屿 U.S. Outlying Islands
        @"UY": @"🇺🇾", // 乌拉圭 Uruguay
        @"UZ": @"🇺🇿", // 乌兹别克斯坦 Uzbekistan

        // V
        @"VU": @"🇻🇺", // 瓦努阿图 Vanuatu
        @"VA": @"🇻🇦", // 梵蒂冈 Vatican City
        @"VE": @"🇻🇪", // 委内瑞拉 Venezuela
        @"VN": @"🇻🇳", // 越南 Vietnam
        @"VI": @"🇻🇮", // 美属维尔京群岛 U.S. Virgin Islands

        // W
        @"WF": @"🇼🇫", // 瓦利斯和富图纳 Wallis & Futuna
        @"EH": @"🇪🇭", // 西撒哈拉 Western Sahara (status disputed)

        // Y
        @"YE": @"🇾🇪", // 也门 Yemen

        // Z
        @"ZM": @"🇿🇲", // 赞比亚 Zambia
        @"ZW": @"🇿🇼", // 津巴布韦 Zimbabwe
    };
}

- (void)loadCityData {
    self.cityCodeMap = @{
        @"110000":@"北京",
        @"110100":@"北京",
        @"120000":@"天津",
        @"120100":@"天津",
        @"130000":@"河北",
        @"130100":@"石家庄",
        @"130200":@"唐山",
        @"130300":@"秦皇岛",
        @"130400":@"邯郸",
        @"130500":@"邢台",
        @"130600":@"保定",
        @"130700":@"张家口",
        @"130800":@"承德",
        @"130900":@"沧州",
        @"131000":@"廊坊",
        @"131100":@"衡水",
        @"140000":@"山西",
        @"140100":@"太原",
        @"140200":@"大同",
        @"140300":@"阳泉",
        @"140400":@"长治",
        @"140500":@"晋城",
        @"140600":@"朔州",
        @"140700":@"晋中",
        @"140800":@"运城",
        @"140900":@"忻州",
        @"141000":@"临汾",
        @"141100":@"吕梁",
        @"150000":@"内蒙古",
        @"150100":@"呼和浩特",
        @"150200":@"包头",
        @"150300":@"乌海",
        @"150400":@"赤峰",
        @"150500":@"通辽",
        @"150600":@"鄂尔多斯",
        @"150700":@"呼伦贝尔",
        @"150800":@"巴彦淖尔",
        @"150900":@"乌兰察布",
        @"152200":@"兴安",
        @"152500":@"锡林郭勒",
        @"152900":@"阿拉善",
        @"210000":@"辽宁",
        @"210100":@"沈阳",
        @"210200":@"大连",
        @"210300":@"鞍山",
        @"210400":@"抚顺",
        @"210500":@"本溪",
        @"210600":@"丹东",
        @"210700":@"锦州",
        @"210800":@"营口",
        @"210900":@"阜新",
        @"211000":@"辽阳",
        @"211100":@"盘锦",
        @"211200":@"铁岭",
        @"211300":@"朝阳",
        @"211400":@"葫芦岛",
        @"220000":@"吉林",
        @"220100":@"长春",
        @"220200":@"吉林",
        @"220300":@"四平",
        @"220400":@"辽源",
        @"220500":@"通化",
        @"220600":@"白山",
        @"220700":@"松原",
        @"220800":@"白城",
        @"222400":@"延边",
        @"230000":@"黑龙江",
        @"230100":@"哈尔滨",
        @"230200":@"齐齐哈尔",
        @"230300":@"鸡西",
        @"230400":@"鹤岗",
        @"230500":@"双鸭山",
        @"230600":@"大庆",
        @"230700":@"伊春",
        @"230800":@"佳木斯",
        @"230900":@"七台河",
        @"231000":@"牡丹江",
        @"231100":@"黑河",
        @"231200":@"绥化",
        @"232700":@"大兴安岭",
        @"310000":@"上海",
        @"310100":@"上海",
        @"320000":@"江苏",
        @"320100":@"南京",
        @"320200":@"无锡",
        @"320300":@"徐州",
        @"320400":@"常州",
        @"320500":@"苏州",
        @"320600":@"南通",
        @"320700":@"连云港",
        @"320800":@"淮安",
        @"320900":@"盐城",
        @"321000":@"扬州",
        @"321100":@"镇江",
        @"321200":@"泰州",
        @"321300":@"宿迁",
        @"330000":@"浙江",
        @"330100":@"杭州",
        @"330200":@"宁波",
        @"330300":@"温州",
        @"330400":@"嘉兴",
        @"330500":@"湖州",
        @"330600":@"绍兴",
        @"330700":@"金华",
        @"330800":@"衢州",
        @"330900":@"舟山",
        @"331000":@"台州",
        @"331100":@"丽水",
        @"340000":@"安徽",
        @"340100":@"合肥",
        @"340200":@"芜湖",
        @"340300":@"蚌埠",
        @"340400":@"淮南",
        @"340500":@"马鞍山",
        @"340600":@"淮北",
        @"340700":@"铜陵",
        @"340800":@"安庆",
        @"341000":@"黄山",
        @"341100":@"滁州",
        @"341200":@"阜阳",
        @"341300":@"宿州",
        @"341500":@"六安",
        @"341600":@"亳州",
        @"341700":@"池州",
        @"341800":@"宣城",
        @"350000":@"福建",
        @"350100":@"福州",
        @"350200":@"厦门",
        @"350300":@"莆田",
        @"350400":@"三明",
        @"350500":@"泉州",
        @"350600":@"漳州",
        @"350700":@"南平",
        @"350800":@"龙岩",
        @"350900":@"宁德",
        @"360000":@"江西",
        @"360100":@"南昌",
        @"360200":@"景德镇",
        @"360300":@"萍乡",
        @"360400":@"九江",
        @"360500":@"新余",
        @"360600":@"鹰潭",
        @"360700":@"赣州",
        @"360800":@"吉安",
        @"360900":@"宜春",
        @"361000":@"抚州",
        @"361100":@"上饶",
        @"370000":@"山东",
        @"370100":@"济南",
        @"370200":@"青岛",
        @"370300":@"淄博",
        @"370400":@"枣庄",
        @"370500":@"东营",
        @"370600":@"烟台",
        @"370700":@"潍坊",
        @"370800":@"济宁",
        @"370900":@"泰安",
        @"371000":@"威海",
        @"371100":@"日照",
        @"371200":@"莱芜",
        @"371300":@"临沂",
        @"371400":@"德州",
        @"371500":@"聊城",
        @"371600":@"滨州",
        @"371700":@"菏泽",
        @"410000":@"河南",
        @"410100":@"郑州",
        @"410200":@"开封",
        @"410300":@"洛阳",
        @"410400":@"平顶山",
        @"410500":@"安阳",
        @"410600":@"鹤壁",
        @"410700":@"新乡",
        @"410800":@"焦作",
        @"410900":@"濮阳",
        @"411000":@"许昌",
        @"411100":@"漯河",
        @"411200":@"三门峡",
        @"411300":@"南阳",
        @"411400":@"商丘",
        @"411500":@"信阳",
        @"411600":@"周口",
        @"411700":@"驻马店",
        @"419001":@"济源",
        @"420000":@"湖北",
        @"420100":@"武汉",
        @"420200":@"黄石",
        @"420300":@"十堰",
        @"420500":@"宜昌",
        @"420600":@"襄阳",
        @"420700":@"鄂州",
        @"420800":@"荆门",
        @"420900":@"孝感",
        @"421000":@"荆州",
        @"421100":@"黄冈",
        @"421200":@"咸宁",
        @"421300":@"随州",
        @"422800":@"恩施",
        @"429004":@"仙桃",
        @"429005":@"潜江",
        @"429006":@"天门",
        @"429021":@"神农架",
        @"430000":@"湖南",
        @"430100":@"长沙",
        @"430200":@"株洲",
        @"430300":@"湘潭",
        @"430400":@"衡阳",
        @"430500":@"邵阳",
        @"430600":@"岳阳",
        @"430700":@"常德",
        @"430800":@"张家界",
        @"430900":@"益阳",
        @"431000":@"郴州",
        @"431100":@"永州",
        @"431200":@"怀化",
        @"431300":@"娄底",
        @"433100":@"湘西",
        @"440000":@"广东",
        @"440100":@"广州",
        @"440200":@"韶关",
        @"440300":@"深圳",
        @"440400":@"珠海",
        @"440500":@"汕头",
        @"440600":@"佛山",
        @"440700":@"江门",
        @"440800":@"湛江",
        @"440900":@"茂名",
        @"441200":@"肇庆",
        @"441300":@"惠州",
        @"441400":@"梅州",
        @"441500":@"汕尾",
        @"441600":@"河源",
        @"441700":@"阳江",
        @"441800":@"清远",
        @"441900":@"东莞",
        @"442000":@"中山",
        @"445100":@"潮州",
        @"445200":@"揭阳",
        @"445300":@"云浮",
        @"450000":@"广西",
        @"450100":@"南宁",
        @"450200":@"柳州",
        @"450300":@"桂林",
        @"450400":@"梧州",
        @"450500":@"北海",
        @"450600":@"防城港",
        @"450700":@"钦州",
        @"450800":@"贵港",
        @"450900":@"玉林",
        @"451000":@"百色",
        @"451100":@"贺州",
        @"451200":@"河池",
        @"451300":@"来宾",
        @"451400":@"崇左",
        @"460000":@"海南",
        @"460100":@"海口",
        @"460200":@"三亚",
        @"460300":@"三沙",
        @"460400":@"儋州",
        @"469001":@"五指山",
        @"469002":@"琼海",
        @"469005":@"文昌",
        @"469006":@"万宁",
        @"469007":@"东方",
        @"469021":@"定安",
        @"469022":@"屯昌",
        @"469023":@"澄迈",
        @"469024":@"临高",
        @"469025":@"白沙",
        @"469026":@"昌江",
        @"469027":@"乐东",
        @"469028":@"陵水",
        @"469029":@"保亭",
        @"469030":@"琼中",
        @"500000":@"重庆",
        @"500100":@"重庆",
        @"510000":@"四川",
        @"510100":@"成都",
        @"510300":@"自贡",
        @"510400":@"攀枝花",
        @"510500":@"泸州",
        @"510600":@"德阳",
        @"510700":@"绵阳",
        @"510800":@"广元",
        @"510900":@"遂宁",
        @"511000":@"内江",
        @"511100":@"乐山",
        @"511300":@"南充",
        @"511400":@"眉山",
        @"511500":@"宜宾",
        @"511600":@"广安",
        @"511700":@"达州",
        @"511800":@"雅安",
        @"511900":@"巴中",
        @"512000":@"资阳",
        @"513200":@"阿坝",
        @"513300":@"甘孜",
        @"513400":@"凉山",
        @"520000":@"贵州",
        @"520100":@"贵阳",
        @"520200":@"六盘水",
        @"520300":@"遵义",
        @"520400":@"安顺",
        @"520500":@"毕节",
        @"520600":@"铜仁",
        @"522300":@"黔西南",
        @"522600":@"黔东南",
        @"522700":@"黔南",
        @"530000":@"云南",
        @"530100":@"昆明",
        @"530300":@"曲靖",
        @"530400":@"玉溪",
        @"530500":@"保山",
        @"530600":@"昭通",
        @"530700":@"丽江",
        @"530800":@"普洱",
        @"530900":@"临沧",
        @"532300":@"楚雄",
        @"532500":@"红河",
        @"532600":@"文山",
        @"532800":@"西双版纳",
        @"532900":@"大理",
        @"533100":@"德宏",
        @"533300":@"怒江",
        @"533400":@"迪庆",
        @"540000":@"西藏",
        @"540100":@"拉萨",
        @"540200":@"日喀则",
        @"540300":@"昌都",
        @"540400":@"林芝",
        @"540500":@"山南",
        @"542400":@"那曲",
        @"542500":@"阿里",
        @"610000":@"陕西",
        @"610100":@"西安",
        @"610200":@"铜川",
        @"610300":@"宝鸡",
        @"610400":@"咸阳",
        @"610500":@"渭南",
        @"610600":@"延安",
        @"610700":@"汉中",
        @"610800":@"榆林",
        @"610900":@"安康",
        @"611000":@"商洛",
        @"620000":@"甘肃",
        @"620100":@"兰州",
        @"620200":@"嘉峪关",
        @"620300":@"金昌",
        @"620400":@"白银",
        @"620500":@"天水",
        @"620600":@"武威",
        @"620700":@"张掖",
        @"620800":@"平凉",
        @"620900":@"酒泉",
        @"621000":@"庆阳",
        @"621100":@"定西",
        @"621200":@"陇南",
        @"622900":@"临夏",
        @"623000":@"甘南",
        @"630000":@"青海",
        @"630100":@"西宁",
        @"630200":@"海东",
        @"632200":@"海北",
        @"632300":@"黄南",
        @"632500":@"海南",
        @"632600":@"果洛",
        @"632700":@"玉树",
        @"632800":@"海西",
        @"640000":@"宁夏",
        @"640100":@"银川",
        @"640200":@"石嘴山",
        @"640300":@"吴忠",
        @"640400":@"固原",
        @"640500":@"中卫",
        @"650000":@"新疆",
        @"650100":@"乌鲁木齐",
        @"650200":@"克拉玛依",
        @"650400":@"吐鲁番",
        @"650500":@"哈密",
        @"652300":@"昌吉",
        @"652700":@"博尔塔拉",
        @"652800":@"巴音郭楞",
        @"652900":@"阿克苏",
        @"653000":@"克孜勒苏",
        @"653100":@"喀什",
        @"653200":@"和田",
        @"654000":@"伊犁",
        @"654200":@"塔城",
        @"654300":@"阿勒泰",
        @"659001":@"石河子",
        @"659002":@"阿拉尔",
        @"659003":@"图木舒克",
        @"659004":@"五家渠",
        @"659005":@"北屯",
        @"659006":@"铁门关",
        @"659007":@"双河",
        @"659008":@"可克达拉",
        @"710000":@"中国台湾",
        @"710100":@"中国台湾",
        @"810000":@"中国香港",
        @"810100":@"中国香港",
        @"820100":@"中国澳门"
    };
}

- (NSString *)getCityNameWithCode:(NSString *)code {
    if (!code || code.length < 6) {
        return nil;
    }
    
    NSString *cityName = self.cityCodeMap[code];
    
    return cityName;
}

- (NSString *)getProvinceNameWithCode:(NSString *)code {
    if (!code || code.length < 6) {
        return nil;
    }
    NSString *provinceCode = [code substringToIndex:2];
    provinceCode = [provinceCode stringByAppendingString:@"0000"];
    NSString *provinceCodeName = self.cityCodeMap[provinceCode];
    
    return provinceCodeName;
}

- (NSString *)getCountryFlagWithCode:(NSString *)code {
    if (!code || code.length < 2) {
        return nil;
    }
    NSString *countryFlag = self.countryCodeMap[code];
    
    if (!countryFlag) {
        return nil;
    }
    return countryFlag;
}

+ (void)fetchLocationWithGeonameId:(NSString *)geonameId completionHandler:(void (^)(NSDictionary *locationInfo, NSError *error))completionHandler {
     NSString *username = [[NSUserDefaults standardUserDefaults] stringForKey:@"DYYYGeonamesUsername"];
    if (!username || [username length] == 0) {
        username = @"your_username"; 
    }
    NSString *urlString = [NSString stringWithFormat:@"https://secure.geonames.org/getJSON?geonameId=%@&lang=en&username=%@", geonameId, username];
    NSURL *url = [NSURL URLWithString:urlString];
    
    NSURLSessionDataTask *task = [[NSURLSession sharedSession] dataTaskWithURL:url completionHandler:^(NSData *data, NSURLResponse *response, NSError *error) {
        if (error) {
            completionHandler(nil, error);
            return;
        }
        
        NSHTTPURLResponse *httpResponse = (NSHTTPURLResponse *)response;
        
        if (httpResponse.statusCode != 200) {
            completionHandler(nil, [NSError errorWithDomain:@"com.dyyy.api" code:httpResponse.statusCode userInfo:nil]);
            return;
        }
        
        NSError *jsonError;
        NSDictionary *jsonResult = [NSJSONSerialization JSONObjectWithData:data options:0 error:&jsonError];
        
        if (jsonError) {
            completionHandler(nil, jsonError);
            return;
        }
        
        completionHandler(jsonResult, nil);
    }];
    
    [task resume];
}
@end
